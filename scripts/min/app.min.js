import { openingAnimation } from './animations.min.js';
openingAnimation();
const scrollBar = document.querySelector('.scroll--bar'),
	container = document.querySelector('.container'),
	scrollBarAnimation = () => {
		const t =
				(-container.getBoundingClientRect().top /
					(container.getBoundingClientRect().height -
						document.documentElement.clientHeight)) *
				100,
			n = Math.floor(t);
		scrollBar.style.width = `${n}%`;
	};
window.addEventListener('scroll', scrollBarAnimation);
const menuBtn = document.querySelector('.nav__menu-btn'),
	nav = document.querySelector('.nav'),
	showMenu = (t) => {
		nav.classList.toggle('active--menu');
	};
menuBtn.addEventListener('click', showMenu);
const sections = document.querySelectorAll('.scroll');
sections.forEach((t) =>
	gsap.fromTo(
		t.children,
		{ y: '+=140', opacity: '0' },
		{
			y: '0',
			opacity: '1',
			ease: 'easeInOut',
			stagger: '0.2',
			duration: '1.2',
			scrollTrigger: { trigger: t, start: 'top 50%', end: '0%' },
		}
	)
);
const brands = document.querySelector('.brands');
gsap.to('.brands .title', {
	top: '50px',
	transform: 'scale(2.5) translateX(-20%)',
	duration: '1',
	delay: '.3',
	scrollTrigger: { trigger: '.brands', start: 'top 40%', end: '0%' },
}),
	gsap.fromTo(
		'.content--brands .box',
		{ opacity: 0, transform: 'scaleX(0)' },
		{
			opacity: 1,
			transform: 'scaleX(1)',
			duration: '.6',
			stagger: '.15',
			delay: '1',
			scrollTrigger: { trigger: '.brands', start: 'top 40%', end: '0%' },
		}
	),
	gsap.fromTo(
		'.informations .content .box',
		{ opacity: '0' },
		{
			opacity: '1',
			duration: '1.5',
			stagger: '.2',
			scrollTrigger: {
				trigger: '.informations',
				start: 'top 40%',
				end: '0%',
			},
		}
	);
